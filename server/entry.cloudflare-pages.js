var V=e=>{throw TypeError(e)};var E=(e,t,n)=>t.has(e)||V("Cannot "+n);var T=(e,t,n)=>(E(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?V("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(E(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{getNotFound as We}from"./@qwik-city-not-found-paths.js";import{isStaticPath as ee}from"./@qwik-city-static-paths.js";import{_ as Ne,a as ve,v as $e}from"./assets/index.qwik-Cbxw_iCk.js";import{s as He,r as Ie,m as Le}from"./assets/entry.ssr-B8oyqRwt.js";import Fe from"./@qwik-city-plan.js";var Ue=class extends Error{constructor(e,t){super(),this.status=e,this.data=t}},ye=class extends Error{constructor(e,t){super(t),this.status=e}};function Qe(e,t){let n="Server Error";return t!=null&&(typeof t.message=="string"?n=t.message:n=String(t)),"<html>"+we(e,n)+"</html>"}function we(e,t){typeof e!="number"&&(e=500),typeof t=="string"?t=je(t):t="";const n=typeof t=="string"?"600px":"300px",r=e>=500?Je:Ge;return`
<head>
  <meta charset="utf-8">
  <meta http-equiv="Status" content="${e}">
  <title>${e} ${t}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { color: ${r}; background-color: #fafafa; padding: 30px; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Roboto, sans-serif; }
    p { max-width: ${n}; margin: 60px auto 30px auto; background: white; border-radius: 4px; box-shadow: 0px 0px 50px -20px ${r}; overflow: hidden; }
    strong { display: inline-block; padding: 15px; background: ${r}; color: white; }
    span { display: inline-block; padding: 15px; }
  </style>
</head>
<body><p><strong>${e}</strong> <span>${t}</span></p></body>
`}var ze=/[&<>]/g,je=e=>e.replace(ze,t=>{switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return""}}),Ge="#006ce9",Je="#713fc2",Ke={lax:"Lax",Lax:"Lax",None:"None",none:"None",strict:"Strict",Strict:"Strict"},Be={seconds:1,minutes:1*60,hours:1*60*60,days:1*60*60*24,weeks:1*60*60*24*7},te=(e,t,n)=>{const r=[`${e}=${t}`];typeof n.domain=="string"&&r.push(`Domain=${n.domain}`),typeof n.maxAge=="number"?r.push(`Max-Age=${n.maxAge}`):Array.isArray(n.maxAge)?r.push(`Max-Age=${n.maxAge[0]*Be[n.maxAge[1]]}`):typeof n.expires=="number"||typeof n.expires=="string"?r.push(`Expires=${n.expires}`):n.expires instanceof Date&&r.push(`Expires=${n.expires.toUTCString()}`),n.httpOnly&&r.push("HttpOnly"),typeof n.path=="string"&&r.push(`Path=${n.path}`);const a=Ye(n.sameSite);return a&&r.push(`SameSite=${a}`),n.secure&&r.push("Secure"),r.join("; ")};function ne(e){try{return decodeURIComponent(e)}catch{return e}}var Xe=e=>{const t={};if(typeof e=="string"&&e!==""){const n=e.split(";");for(const r of n){const a=r.indexOf("=");a!==-1&&(t[ne(r.slice(0,a).trim())]=ne(r.slice(a+1).trim()))}}return t};function Ye(e){if(e===!0)return"Strict";if(e===!1)return"None";if(e)return Ke[e]}var M=Symbol("request-cookies"),H=Symbol("response-cookies"),_=Symbol("live-cookies"),Se,be,Ze=class{constructor(e){this[Se]={},this[be]={},this.appendCounter=0,this[M]=Xe(e),this[_]={...this[M]}}get(e,t=!0){const n=this[t?_:M][e];return n?{value:n,json(){return JSON.parse(n)},number(){return Number(n)}}:null}getAll(e=!0){return Object.keys(this[e?_:M]).reduce((t,n)=>(t[n]=this.get(n),t),{})}has(e,t=!0){return!!this[t?_:M][e]}set(e,t,n={}){this[_][e]=typeof t=="string"?t:JSON.stringify(t);const r=typeof t=="string"?t:encodeURIComponent(JSON.stringify(t));this[H][e]=te(e,r,n)}append(e,t,n={}){this[_][e]=typeof t=="string"?t:JSON.stringify(t);const r=typeof t=="string"?t:encodeURIComponent(JSON.stringify(t));this[H][++this.appendCounter]=te(e,r,n)}delete(e,t){this.set(e,"deleted",{...t,maxAge:0}),this[_][e]=null}headers(){return Object.values(this[H])}};Se=H,be=_;var qe=(e,t)=>{const n=t.headers();if(n.length>0){const r=new Headers(e);for(const a of n)r.append("Set-Cookie",a);return r}return e},Z=class{},I=class extends Z{},re=new WeakMap,ae="qaction",Ve="qfunc",ie="qdata";function Ee(e,t){const n=ce(e),r=se(e),a=ce(t),i=se(t);return Re(e,n,r,t,a,i)}function Re(e,t,n,r,a,i){let s=null;for(;t<n;){const o=e.charCodeAt(t++),l=r.charCodeAt(a++);if(o===91){const c=Ae(e,t),f=t+(c?3:0),h=Y(e,f,n,93),m=e.substring(f,h),d=Y(e,h+1,n,47),g=e.substring(h+1,d);t=h+1;const y=a-1;if(c){const C=tt(m,g,r,y,i,e,t+g.length+1,n);if(C)return Object.assign(s||(s={}),C)}const w=Y(r,y,i,47,g);if(w==-1)return null;const A=r.substring(y,w);if(!c&&!g&&!A)return null;a=w,(s||(s={}))[m]=decodeURIComponent(A)}else if(o!==l&&!(isNaN(l)&&et(e,t)))return null}return oe(e,t)&&oe(r,a)?s||{}:null}function et(e,t){return e.charCodeAt(t)===91&&Ae(e,t+1)}function se(e){const t=e.length;return t>1&&e.charCodeAt(t-1)===47?t-1:t}function oe(e,t){const n=e.length;return t>=n||t==n-1&&e.charCodeAt(t)===47}function ce(e){return e.charCodeAt(0)===47?1:0}function Ae(e,t){return e.charCodeAt(t)===46&&e.charCodeAt(t+1)===46&&e.charCodeAt(t+2)===46}function Y(e,t,n,r,a=""){for(;t<n&&e.charCodeAt(t)!==r;)t++;const i=a.length;for(let s=0;s<i;s++)if(e.charCodeAt(t-i+s)!==a.charCodeAt(s))return-1;return t-i}function tt(e,t,n,r,a,i,s,o){n.charCodeAt(r)===47&&r++;let l=a;const c=t+"/";for(;l>=r;){const f=Re(i,s,o,n,l,a);if(f){let m=n.substring(r,Math.min(l,a));return m.endsWith(c)&&(m=m.substring(0,m.length-c.length)),f[e]=decodeURIComponent(m),f}const h=nt(n,r,c,l,r-1)+c.length;if(l===h)break;l=h}return null}function nt(e,t,n,r,a){let i=e.lastIndexOf(n,r);return i==r-n.length&&(i=e.lastIndexOf(n,r-n.length-1)),i>t?i:a}var rt=async(e,t,n,r)=>{if(!Array.isArray(e))return null;for(const a of e){const i=a[0],s=Ee(i,r);if(!s)continue;const o=a[1],l=a[3],c=new Array(o.length),f=[];o.forEach((d,g)=>{le(d,f,y=>c[g]=y,n)});const h=at(t,r);let m;return le(h,f,d=>m=d==null?void 0:d.default,n),f.length>0&&await Promise.all(f),[i,s,c,m,l]}return null},le=(e,t,n,r)=>{if(typeof e=="function"){const a=re.get(e);if(a)n(a);else{const i=e();typeof i.then=="function"?t.push(i.then(s=>{r!==!1&&re.set(e,s),n(s)})):i&&n(i)}}},at=(e,t)=>{if(e){t=t.endsWith("/")?t:t+"/";const n=e.find(r=>r[0]===t||t.startsWith(r[0]+(t.endsWith("/")?"":"/")));if(n)return n[1]}};function it(e){const t=[];return e==="day"?e=60*60*24:e==="week"?e=60*60*24*7:e==="month"?e=60*60*24*30:e==="year"?e=60*60*24*365:e==="private"?e={private:!0,noCache:!0}:e==="immutable"?e={public:!0,immutable:!0,maxAge:60*60*24*365,staleWhileRevalidate:60*60*24*365}:e==="no-cache"&&(e={noCache:!0}),typeof e=="number"&&(e={maxAge:e,sMaxAge:e,staleWhileRevalidate:e}),e.immutable&&t.push("immutable"),e.maxAge&&t.push(`max-age=${e.maxAge}`),e.sMaxAge&&t.push(`s-maxage=${e.sMaxAge}`),e.noStore&&t.push("no-store"),e.noCache&&t.push("no-cache"),e.private&&t.push("private"),e.public&&t.push("public"),e.staleWhileRevalidate&&t.push(`stale-while-revalidate=${e.staleWhileRevalidate}`),e.staleIfError&&t.push(`stale-if-error=${e.staleIfError}`),t.join(", ")}var L;import("node:async_hooks").then(e=>{const t=e.AsyncLocalStorage;L=new t,globalThis.qcAsyncRequestStore=L}).catch(e=>{console.warn("AsyncLocalStorage not available, continuing without it. This might impact concurrent server calls.",e)});function st(e,t,n,r,a=!0,i="/",s){let o;const l=new Promise(f=>o=f),c=ft(e,t,n,r,a,i,s,o);return{response:l,requestEv:c,completion:L?L.run(c,fe,c,o):fe(c,o)}}async function fe(e,t){try{await e.next()}catch(n){if(n instanceof I)await e.getWritableStream().close();else if(n instanceof ye){if(console.error(n),!e.headersSent){const r=Qe(n.status,n),a=n.status;e.html(a,r)}}else if(!(n instanceof Z)){if(G(e)!=="dev")try{e.headersSent||(e.headers.set("content-type","text/html; charset=utf-8"),e.cacheControl({noCache:!0}),e.status(500));const r=e.getWritableStream();if(!r.locked){const a=r.getWriter();await a.write(J.encode(we(500,"Internal Server Error"))),await a.close()}}catch{console.error("Unable to render error page")}return n}}finally{e.isDirty()||t(null)}}function ot(e,t){if(e.endsWith(D)){const n=e.length-Te+(t?1:0);e=e.slice(0,n),e===""&&(e="/")}return e}var W="@isQData",D="/q-data.json",Te=D.length,ct=e=>e&&typeof e.then=="function",_e=Symbol("RequestEvLoaders"),xe=Symbol("RequestEvMode"),Ce=Symbol("RequestEvRoute"),Q=Symbol("RequestEvQwikSerializer"),De=Symbol("RequestEvTrailingSlash"),Pe="@routeName",z="@actionId",Me="@actionFormData",lt="@nonce";function ft(e,t,n,r,a,i,s,o){const{request:l,platform:c,env:f}=e,h=new Map,m=new Ze(l.headers.get("cookie")),d=new Headers,g=new URL(l.url);g.pathname.endsWith(D)&&(g.pathname=g.pathname.slice(0,-Te),a&&!g.pathname.endsWith("/")&&(g.pathname+="/"),h.set(W,!0)),h.set("@manifest",r);let y=-1,w=null,A,C=e.locale,S=200;const Oe=async()=>{for(y++;y<n.length;){const u=n[y],p=globalThis.qcAsyncRequestStore,b=p!=null&&p.run?p.run(R,u,R):u(R);ct(b)&&await b,y++}},P=()=>{if(w!==null)throw new Error("Response already sent")},N=(u,p)=>{if(P(),typeof u=="number"){S=u;const v=R.getWritableStream().getWriter();v.write(typeof p=="string"?J.encode(p):p),v.close()}else if(S=u.status,u.headers.forEach((b,v)=>{d.append(v,b)}),u.body){const b=R.getWritableStream();u.body.pipeTo(b)}else{if(S>=300&&S<400)return new I;R.getWritableStream().getWriter().close()}return K()},K=()=>(y=ue,new Z),B={},R={[_e]:B,[xe]:e.mode,[De]:a,[Ce]:t,[Q]:s,cookie:m,headers:d,env:f,method:l.method,signal:l.signal,params:(t==null?void 0:t[1])??{},pathname:g.pathname,platform:c,query:g.searchParams,request:l,url:g,basePathname:i,sharedMap:h,get headersSent(){return w!==null},get exited(){return y>=ue},get clientConn(){return e.getClientConn()},next:Oe,exit:K,cacheControl:(u,p="Cache-Control")=>{P(),d.set(p,it(u))},resolveValue:async u=>{const p=u.__id;if(u.__brand==="server_loader"&&!(p in B))throw new Error("You can not get the returned data of a loader that has not been executed for this request.");return B[p]},status:u=>typeof u=="number"?(P(),S=u,u):S,locale:u=>(typeof u=="string"&&(C=u),C||""),error:(u,p)=>(S=u,d.delete("Cache-Control"),new ye(u,p)),redirect:(u,p)=>{if(P(),S=u,p){const b=p.replace(/([^:])\/{2,}/g,"$1/");p!==b&&console.warn(`Redirect URL ${p} is invalid, fixing to ${b}`),d.set("Location",b)}return d.delete("Cache-Control"),u>301&&d.set("Cache-Control","no-store"),K(),new I},defer:u=>typeof u=="function"?u:()=>u,fail:(u,p)=>(P(),S=u,d.delete("Cache-Control"),{failed:!0,...p}),text:(u,p)=>(d.set("Content-Type","text/plain; charset=utf-8"),N(u,p)),html:(u,p)=>(d.set("Content-Type","text/html; charset=utf-8"),N(u,p)),parseBody:async()=>A!==void 0?A:A=dt(R,h,s),json:(u,p)=>(d.set("Content-Type","application/json; charset=utf-8"),N(u,JSON.stringify(p))),send:N,isDirty:()=>w!==null,getWritableStream:()=>{if(w===null){if(e.mode==="dev"){const u=h.get("@serverTiming");u&&d.set("Server-Timing",u.map(p=>`${p[0]};dur=${p[1]}`).join(","))}w=e.getWritableStream(S,d,m,o,R)}return w}};return Object.freeze(R)}function j(e){return e[_e]}function q(e){return e[De]}function ut(e){return e[Ce]}function G(e){return e[xe]}var ue=Number.MAX_SAFE_INTEGER,dt=async({request:e,method:t,query:n},r,a)=>{var i;const s=((i=e.headers.get("content-type"))==null?void 0:i.split(/[;,]/,1)[0].trim())??"";if(s==="application/x-www-form-urlencoded"||s==="multipart/form-data"){const o=await e.formData();return r.set(Me,o),ht(o)}else{if(s==="application/json")return await e.json();if(s==="application/qwik-json"){if(t==="GET"&&n.has(ie)){const o=n.get(ie);if(o)try{return a._deserializeData(decodeURIComponent(o))}catch{}}return a._deserializeData(await e.text())}}},ht=e=>[...e.entries()].reduce((n,[r,a])=>(r.split(".").reduce((i,s,o,l)=>{if(s.endsWith("[]")){const c=s.slice(0,-2);return i[c]=i[c]||[],i[c]=[...i[c],a]}return o<l.length-1?i[s]=i[s]||(Number.isNaN(+l[o+1])?{}:[]):i[s]=a},n),n),{});function pt(e){const{url:t,params:n,request:r,status:a,locale:i}=e,s={};r.headers.forEach((y,w)=>s[w]=y);const o=e.sharedMap.get(z),l=e.sharedMap.get(Me),c=e.sharedMap.get(Pe),f=e.sharedMap.get(lt),h=e.request.headers,m=new URL(t.pathname+t.search,t),d=h.get("X-Forwarded-Host"),g=h.get("X-Forwarded-Proto");return d&&(m.port="",m.host=d),g&&(m.protocol=g),{url:m.href,requestHeaders:s,locale:i(),nonce:f,containerAttributes:{"q:route":c},qwikcity:{routeName:c,ev:e,params:{...n},loadedRoute:ut(e),response:{status:a(),loaders:j(e),action:o,formData:l}}}}var mt=(e,t,n,r,a)=>{const i=[],s=[],o=[],l=!!(t&&Rt(t[2]));if(e&&de(i,s,o,e,l,n),t){const c=t[0];r&&(n==="POST"||n==="PUT"||n==="PATCH"||n==="DELETE")&&o.unshift(At),l&&((n==="POST"||n==="GET")&&o.push(wt),o.push(St),o.push(xt));const f=t[2];o.push(_t),de(i,s,o,f,l,n),l&&(o.push(h=>{h.sharedMap.set(Pe,c)}),o.push(gt(s,i)),o.push(a))}return o},de=(e,t,n,r,a,i)=>{for(const s of r){typeof s.onRequest=="function"?n.push(s.onRequest):Array.isArray(s.onRequest)&&n.push(...s.onRequest);let o;switch(i){case"GET":{o=s.onGet;break}case"POST":{o=s.onPost;break}case"PUT":{o=s.onPut;break}case"PATCH":{o=s.onPatch;break}case"DELETE":{o=s.onDelete;break}case"OPTIONS":{o=s.onOptions;break}case"HEAD":{o=s.onHead;break}}if(typeof o=="function"?n.push(o):Array.isArray(o)&&n.push(...o),a){const l=Object.values(s).filter(f=>he(f,"server_loader"));e.push(...l);const c=Object.values(s).filter(f=>he(f,"server_action"));t.push(...c)}}},he=(e,t)=>e&&typeof e=="function"&&e.__brand===t;function gt(e,t){return async n=>{if(n.headersSent){n.exit();return}const{method:r}=n,a=j(n),i=G(n)==="dev",s=n[Q];if(i&&r==="GET"&&n.query.has(ae)&&console.warn(`Seems like you are submitting a Qwik Action via GET request. Qwik Actions should be submitted via POST request.
Make sure your <form> has method="POST" attribute, like this: <form method="POST">`),r==="POST"){const o=n.query.get(ae);if(o){const l=globalThis._qwikActionsMap,c=e.find(f=>f.__id===o)??(l==null?void 0:l.get(o));if(c){n.sharedMap.set(z,o);const f=await n.parseBody();if(!f||typeof f!="object")throw new Error(`Expected request data for the action id ${o} to be an object`);const h=await pe(n,c.__validators,f,i);if(!h.success)a[o]=n.fail(h.status??500,h.error);else{const m=i?await U(n,c.__qrl.getSymbol().split("_",1)[0],()=>c.__qrl.call(n,h.data,n)):await c.__qrl.call(n,h.data,n);i&&F(s,m,c.__qrl),a[o]=m}}}}if(t.length>0){const o=t.map(l=>{const c=l.__id;return a[c]=pe(n,l.__validators,void 0,i).then(f=>f.success?i?U(n,l.__qrl.getSymbol().split("_",1)[0],()=>l.__qrl.call(n,n)):l.__qrl.call(n,n):n.fail(f.status??500,f.error)).then(f=>(typeof f=="function"?a[c]=f():(i&&F(s,f,l.__qrl),a[c]=f),f)),a[c]});await Promise.all(o)}}}async function pe(e,t,n,r){let a={success:!0,data:n};if(t)for(const i of t)if(r?a=await U(e,"validator$",()=>i.validate(e,n)):a=await i.validate(e,n),a.success)n=a.data;else return a;return a}function yt(e){return e?typeof e=="object"&&Symbol.asyncIterator in e:!1}async function wt(e){const t=e.query.get(Ve);if(t&&e.request.headers.get("X-QRL")===t&&e.request.headers.get("Content-Type")==="application/qwik-json"){e.exit();const n=G(e)==="dev",r=e[Q],a=await e.parseBody();if(Array.isArray(a)){const[i,...s]=a;if(bt(i)&&i.getHash()===t){let o;try{n?o=await U(e,`server_${i.getSymbol()}`,()=>i.apply(e,s)):o=await i.apply(e,s)}catch(l){if(l instanceof Ue){e.headers.set("Content-Type","application/qwik-json"),e.send(l.status,await r._serializeData(l.data,!0));return}e.headers.set("Content-Type","application/qwik-json"),e.send(500,await r._serializeData(l,!0));return}if(yt(o)){e.headers.set("Content-Type","text/qwik-json-stream");const c=e.getWritableStream().getWriter();for await(const f of o){n&&F(r,f,i);const h=await r._serializeData(f,!0);if(e.signal.aborted)break;await c.write(J.encode(`${h}
`))}c.close()}else{F(r,o,i),e.headers.set("Content-Type","application/qwik-json");const l=await r._serializeData(o,!0);e.send(200,l)}return}}throw e.error(500,"Invalid request")}}function St(e){const t=q(e),{basePathname:n,pathname:r,url:a,sharedMap:i}=e;if(!i.has(W)&&r!==n&&!r.endsWith(".html")){if(t){if(!r.endsWith("/"))throw e.redirect(302,r+"/"+a.search)}else if(r.endsWith("/"))throw e.redirect(302,r.slice(0,r.length-1)+a.search)}}function F(e,t,n){try{e._verifySerializable(t,void 0)}catch(r){throw r instanceof Error&&n.dev&&(r.loc=n.dev),r}}var bt=e=>typeof e=="function"&&typeof e.getSymbol=="function";function Rt(e){const t=e[e.length-1];return t&&typeof t.default=="function"}function ke(e,t){return e=new URL(e),e.pathname.endsWith(D)&&(e.pathname=e.pathname.slice(0,-D.length)),t?e.pathname.endsWith("/")||(e.pathname+="/"):e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),e.toString().substring(e.origin.length)}var J=new TextEncoder;function At(e){if(Dt(e.request.headers,"application/x-www-form-urlencoded","multipart/form-data","text/plain")){const n=e.request.headers.get("origin"),r=e.url.origin;if(n!==r)throw e.error(403,`CSRF check failed. Cross-site ${e.method} form submissions are forbidden.
The request origin "${n}" does not match the server origin "${r}".`)}}function Tt(e){return async t=>{if(t.headersSent||t.sharedMap.has(W))return;t.request.headers.forEach((h,m)=>h);const r=t.headers;r.has("Content-Type")||r.set("Content-Type","text/html; charset=utf-8");const a=q(t),{readable:i,writable:s}=new TextEncoderStream,o=t.getWritableStream(),l=i.pipeTo(o,{preventClose:!0}),c=s.getWriter(),f=t.status();try{const h=G(t)==="static",m=pt(t),d=await e({base:t.basePathname+"build/",stream:c,serverData:m,containerAttributes:{"q:render":h?"static":"",...m.containerAttributes}}),g={loaders:j(t),action:t.sharedMap.get(z),status:f!==200?f:200,href:ke(t.url,a)};typeof d.html=="string"&&await c.write(d.html),t.sharedMap.set("qData",g)}finally{await c.ready,await c.close(),await l}await o.close()}}async function _t(e){if(!e.sharedMap.has(W))return;try{await e.next()}catch(i){if(!(i instanceof I))throw i}if(e.headersSent)return;const n=e.status(),r=e.headers.get("Location");if(n>=301&&n<=308&&r){const i=Ct(r);if(i){e.headers.set("Location",i),e.getWritableStream().close();return}else e.status(200),e.headers.delete("Location")}}async function xt(e){if(!e.sharedMap.has(W)||(await e.next(),e.headersSent||e.exited))return;const n=e.status(),r=e.headers.get("Location"),a=q(e);e.request.headers.forEach((c,f)=>c),e.headers.set("Content-Type","application/json; charset=utf-8");const i={loaders:j(e),action:e.sharedMap.get(z),status:n!==200?n:200,href:ke(e.url,a),redirect:r??void 0},s=e.getWritableStream().getWriter(),l=await e[Q]._serializeData(i,!0);s.write(J.encode(l)),e.sharedMap.set("qData",i),s.close()}function Ct(e){if(e.startsWith("/")){const t=D,n=new URL(e,"http://localhost");return(n.pathname.endsWith("/")?n.pathname.slice(0,-1):n.pathname)+(t.startsWith("/")?"":"/")+t+n.search}else return}function me(){return typeof performance<"u"?performance.now():0}async function U(e,t,n){const r=me();try{return await n()}finally{const a=me()-r;let i=e.sharedMap.get("@serverTiming");i||e.sharedMap.set("@serverTiming",i=[]),i.push([t,a])}}function Dt(e,...t){var n;const r=((n=e.get("content-type"))==null?void 0:n.split(/;,/,1)[0].trim())??"";return t.includes(r)}async function Pt(e,t,n){const{render:r,qwikCityPlan:a,manifest:i,checkOrigin:s}=t,o=e.url.pathname,l=ot(o,a.trailingSlash),c=await Mt(a,l,e.request.method,s??!0,r);if(c){const[f,h]=c;return st(e,f,h,i,a.trailingSlash,a.basePathname,n)}return null}async function Mt(e,t,n,r,a){const{routes:i,serverPlugins:s,menus:o,cacheModules:l}=e,c=await rt(i,o,l,t),f=mt(s,c,n,r,Tt(a));return f.length>0?[c,f]:null}var x,k,O,ge,kt=(ge=class{constructor(){$(this,x,null);$(this,k,new TextEncoder);$(this,O,new TransformStream({transform:(e,t)=>{e=String(e);let n="";for(let r=0;r<e.length;r++){const a=e[r],i=a.charCodeAt(0);if(T(this,x)!==null){const s=T(this,x);if(X(this,x,null),56320<=i&&i<=57343){n+=s+a;continue}n+="�"}if(55296<=i&&i<=56319){X(this,x,a);continue}if(56320<=i&&i<=57343){n+="�";continue}n+=a}n&&t.enqueue(T(this,k).encode(n))},flush:e=>{T(this,x)!==null&&e.enqueue(new Uint8Array([239,191,189]))}}))}get encoding(){return T(this,k).encoding}get readable(){return T(this,O).readable}get writable(){return T(this,O).writable}get[Symbol.toStringTag](){return"TextEncoderStream"}},x=new WeakMap,k=new WeakMap,O=new WeakMap,ge);function Ot(e){try{new globalThis.TextEncoderStream}catch{globalThis.TextEncoderStream=kt}const t={_deserializeData:Ne,_serializeData:ve,_verifySerializable:$e};e.manifest&&He(e.manifest);async function n(r,a,i){try{const s=new URL(r.url);if(ee(r.method,s))return a.ASSETS.fetch(r);const o=s.hostname!=="127.0.0.1"&&s.hostname!=="localhost"&&s.port===""&&r.method==="GET",l=new Request(s.href,r),c=o?await caches.open("custom:qwikcity"):null;if(c){const d=await c.match(l);if(d)return d}const h=await Pt({mode:"server",locale:void 0,url:s,request:r,env:{get(d){return a[d]}},getWritableStream:(d,g,y,w)=>{const{readable:A,writable:C}=new TransformStream,S=new Response(A,{status:d,headers:qe(g,y)});return w(S),C},getClientConn:()=>({ip:r.headers.get("CF-connecting-ip")||"",country:r.headers.get("CF-IPCountry")||""}),platform:{request:r,env:a,ctx:i}},e,t);if(h){h.completion.then(g=>{g&&console.error(g)});const d=await h.response;if(d)return d.ok&&c&&d.headers.has("Cache-Control")&&i.waitUntil(c.put(l,d.clone())),d}const m=ee(r.method||"GET",s)?"Not Found":We(s.pathname);return new Response(m,{status:404,headers:{"Content-Type":"text/html; charset=utf-8","X-Not-Found":s.pathname}})}catch(s){return console.error(s),new Response(String(s||"Error"),{status:500,headers:{"Content-Type":"text/plain; charset=utf-8","X-Error":"cloudflare-pages"}})}}return n}const Lt=Ot({render:Ie,qwikCityPlan:Fe,manifest:Le});export{Lt as fetch};
